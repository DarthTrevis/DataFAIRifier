@prefix rr: <http://www.w3.org/ns/r2rml#>.
@prefix ex: <http://example.com/ns#>.
@prefix map: <#>.
@prefix sty: <http://purl.bioontology.org/ontology/STY/>.
@prefix sio: <http://semanticscience.org/resource/SIO_>.
@prefix foaf: <http://xmlns.com/foaf/0.1/>.
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>.
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>.
@prefix xsd: <http://www.w3.org/2001/XMLSchema#>.
@prefix ncit: <http://ncicb.nci.nih.gov/xml/owl/EVS/Thesaurus.owl#>.

map:sqlQuery a rr:LogicalTable;
    rr:sqlQuery """SELECT id FROM export_set""";
    skos:definition "This table should contain the columns named id. Every row in this table should correspond to a unique patient.".

###########################################
# Add patient
###########################################
map:patient a rr:TriplesMap;
    rr:logicalTable map:sqlQuery;
    rr:subjectMap [
        rr:template "patient/{id}";
        rr:class ncit:C16960;
    ];
    rr:predicateObjectMap [
        rr:predicate rdfs:label;
        rr:objectMap [
            rr:column "id"; 
            rr:datatype xsd:string;
        ];
    ].